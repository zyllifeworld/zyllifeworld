---
title: 贝叶斯理论与自动售卖机
date: '2017-09-26'
slug: bayes-vm
---
周末晚上(前天晚上)回去时候特别饿，就去宿舍楼下的自助售货机购物，楼下大爷对我说：“这个售货机可能坏了。”但是还是决定一试，果然，没有出货。大爷于是说：“都告诉你坏了。”对曰：“大爷，你说的是可能，可能说明还有可能出货啊。”当天还发了条朋友圈自嘲，今天中午闲着无聊，也比较瞌睡，于是用贝叶斯方法估计了一下在当时已经听到大爷说售货机坏了的情况下，还去买这一情况是否理智。
首先我特意根据自己以往的购买经验^[翻阅微信支付记录]，经统计发现，在之前的31次在友宝的自助售货机的购买中，有一次是故障并且没有出货的。那么根据公式，可以写出先验分布：

$$P(breakdown)=\frac am=\frac1{31}$$

假设大爷告知我售货机故障，即已经存在一次售货机故障，在此情况下售货机故障的概率为0.99，即：

$$P(breakdown|{1,0})=\frac{a+1}{m+1}=0.99$$

求解得到:
$$a=\frac{1}{2699}$$
$$m=\frac{31}{2699}$$

那么我再买一次货物时出现故障的概率为：

$$P(breakdown)=\frac{1+\frac{1}{2699}}{1+\frac{31}{2699}}\approx 0.989$$

略小与0.99，可见还没达到极显著水平，所以第一次尝试是值得的😅，别跟我提显著水平....@￥#%！😒,当然也可以算出第二次购买故障的概率，约为0.994，当然我第二次就没有买了，机智的boy😎呵~呵呵？
强行找一波不亏本的理由，当然这个故事最后是一个happy ending，友宝接受了我的反馈，把钱退还了，皆大欢喜。
